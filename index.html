<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>云纸条</title>
    <meta name="keywords" content="cloud paper">
    <meta name="description" content="cloud paper">
    <link rel="stylesheet" type="text/css" href="style/normalize.css">
    <link rel="stylesheet" type="text/css" href="style/main.css">
</head>

<body>
    <main class="container" id="index__roomList">
        <div class="roomlist__elem--password">
            <div id="popup" class='modal' role="dialog" aria-labelledby="Modal title" aria-describedby="Modal description">
                <div class="modal-content">
                    <p class="roomlist__elem--caption">请输入房间令牌</p>
                    <input type="text" autofocus>
                    <button type="button">进入房间</button>
                </div>
            </div>
        </div>
        <header class="header__container">
            <section class="header__container--title">
                <h1>☁️云纸条</h1>
            </section>
            <section class="button__container">
                <p>快来创建房间和小伙伴一起分享演示吧!</p>
                <div>创建房间</button>
            </section>
        </header>
        <section class="roomlist__container">
            <ul class="roomlist">
                <li class="roomlist__elem locked">
                    <div class="roomlist__elem--logo">
                        <img class="room" src="img/room.png">
                    </div>
                    <div class="roomlist__elem--title">
                        <p class="room__title">房间一</p>
                    </div>
                    <div class="roomlist__elem--lock">
                        <img class="lock" src="img/lock.png">
                    </div>
                </li>
                <li class="roomlist__elem">
                    <div class="roomlist__elem--logo">
                        <img class="room" src="img/room.png">
                    </div>
                    <div class="roomlist__elem--title">
                        <p class="room__title">房间一</p>
                    </div>
                    <div class="roomlist__elem--lock">
                        <img class="lock" src="img/right.png">
                    </div>
                </li>
            </ul>
        </section>
    </main>
    <script>
        document.querySelector('.roomlist__elem.locked').addEventListener('click', (e) => {
            document.querySelector('.roomlist__elem--password').style.display = 'block';
            document.querySelector('.roomlist__elem--password #popup').classList.add('slidein');
        });
        document.querySelector('.roomlist__elem--password').addEventListener('click', (e) => {
            e.stopPropagation();
            e.preventDefault();
            if (e.target.className === 'roomlist__elem--password') {
                document.querySelector('.roomlist__elem--password').style.display = 'none';
                document.querySelector('.roomlist__elem--password #popup').classList.remove('slidein');
            }
        });
        const title = document.querySelector('.container#index__roomList .header__container');
        const text = title.querySelector('h1');
        const walk = 60;

        function shadow(e) {
            const {
                offsetWidth: width,
                offsetHeight: height
            } = title;
            let {
                offsetX: x,
                offsetY: y
            } = e;

            if (this !== e.target) {
                x = x + e.target.offsetLeft;
                y = y + e.target.offsetTop;
            }

            const xWalk = Math.round((x / width * walk) - (walk / 2));
            const yWalk = Math.round((y / height * walk) - (walk / 2));

            text.style.textShadow =
                `
      
      ${yWalk}px ${xWalk * -1}px 10px rgba(204,204,204,0.4)
    `;

        }

        title.addEventListener('mousemove', shadow);
    </script>
</body>

</html>